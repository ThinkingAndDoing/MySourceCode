@how
NA

@what
//+------------------------------------------------------------------+
//| SampleEA.mq4                                                     |
//| Copyright ?2008, MetaQuotes Software Corp.                       |
//| QQ:XXX                                                           |
//+------------------------------------------------------------------+
#property link  XXX
//---- input parameters
extern   double TakeProfit = 20;
extern   double StopLoss = 30;
extern   double Lots = 2;
//+------------------------------------------------------------------+
//| expert initialization function                                   |
//+------------------------------------------------------------------+
int init() 
{
    return (0);
}
//+------------------------------------------------------------------+
//| expert deinitialization function                                 |
//+------------------------------------------------------------------+
int deinit() 
{
    return (0);
}
//+------------------------------------------------------------------+
//| expert start function                                            |
//+------------------------------------------------------------------+
int start() 
{
	int cnt, ticket, total;
	if (Bars < 100) 
	{
		Print("bars less than 100");
		return (0);
	}
	if (TakeProfit < 10) 
	{
		Print("TakeProfit less than 10");
		return (0); // check TakeProfit
	}
	return (0);
}

@question
对于一个智能交易系统EA程序来说：主要由三个函数构成分别是：
init():初始化函数，负责程序变量及数据初始输入;只在程序调入时执行一次，一般不用重写内容。
deinit():反初始化函数，负责程序退出时，将数据从内存中清除;只在程序退出时，执行一次，一般不用重写内容。
start():开始函数，也即程序的主函数，负责EA程序的全部交易执行过程，实际上他是一个EA的交易管理与执行函数。每隔一定时间，一般几秒之内，执行一次，就是循环执行，起到程序退出时终止
运行流程：
启动EA后，程序的INTI()开始执行一次，
然后START()循环执行
最后退出EA时deinit()执行一次
所以，很多交易员在交易过程中并不是直接使用自动化的“EA”而是选择半自动化的设置，加入了人工的筛选机制。有了一个稳定成熟的交易员的筛选机制的加入，因为走势的变化而导致的亏损再自动加仓的概率大幅降低。

@